---
import BaseLayout from '../layouts/BaseLayout.astro';

const breadcrumbItems = [
  { name: "Accueil", url: "/" },
  { name: "Contact", url: "/contact" }
];

const contact = {
  address: "120 Route des Macarons - 06560 Valbonne",
  phone: "06 82 26 73 42",
  phone2: "09 88 41 83 34",
  email: "absig2consulting@gmail.com",
};

const whatsappNumber = "33682267342";
---

<BaseLayout 
  title="Contact & Devis | ABSIG Consulting"
  description="Contactez-nous pour vos besoins en recrutement europÃ©en. Devis gratuit et accompagnement personnalisÃ©."
  currentPage="contact"
  breadcrumbItems={breadcrumbItems}
>
  <!-- HERO -->
  <section class="hero-banner" style="min-height: 300px;">
    <div class="hero-image-container">
      <div class="hero-placeholder" style="background-image: url('/assets/img/customer-support.png'); background-size: cover; background-position: center; width: 100%; height: 100%;"></div>
      <div class="hero-overlay" style="background: rgba(0, 35, 102, 0.8);"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title" data-aos="fade-up">Contactez-Nous</h1>
      <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="100">Nous sommes Ã  votre Ã©coute pour vos projets de recrutement</p>
    </div>
  </section>

  <!-- INFORMATIONS DE CONTACT -->
  <section style="padding: 4rem 0; background: #fff;">
    <div class="container">
      <div class="grid-2-cols-responsive align-center">
        
        <!-- CoordonnÃ©es -->
        <div data-aos="fade-right">
          <h2 style="color: #002366;">Nos CoordonnÃ©es</h2>
          <p class="lead" style="margin-bottom: 2rem;">
            BasÃ©s Ã  Valbonne Sophia-Antipolis, nous intervenons pour des recrutements dans toute la France.
          </p>
          
          <div style="margin-bottom: 1.5rem; display: flex; align-items: flex-start; gap: 1rem;">
            <span style="font-size: 1.5rem;">ğŸ“</span>
            <div>
              <strong>Adresse</strong>
              <p>{contact.address}</p>
            </div>
          </div>
          
          <div style="margin-bottom: 1.5rem; display: flex; align-items: flex-start; gap: 1rem;">
            <span style="font-size: 1.5rem;">ğŸ“</span>
            <div>
              <strong>TÃ©lÃ©phone</strong>
              <p>
                <a href={`tel:${contact.phone.replace(/\s/g, '')}`} style="font-weight: 600; font-size: 1.1rem;">{contact.phone}</a><br>
                <a href={`tel:${contact.phone2.replace(/\s/g, '')}`}>{contact.phone2}</a>
              </p>
            </div>
          </div>
          
          <div style="margin-bottom: 1.5rem; display: flex; align-items: flex-start; gap: 1rem;">
            <span style="font-size: 1.5rem;">ğŸ“§</span>
            <div>
              <strong>Email</strong>
              <p><a href={`mailto:${contact.email}`}>{contact.email}</a></p>
            </div>
          </div>
          
          <div style="margin-top: 2rem; padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #d4af37;">
            <strong style="color: #002366;">Horaires d'ouverture</strong>
            <p style="margin-top: 0.5rem;">
              Lundi - Vendredi : 9h00 - 18h00<br>
              Samedi : Sur rendez-vous
            </p>
          </div>
        </div>

        <!-- Formulaire -->
        <div data-aos="fade-left" style="background: #f8f9fa; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
          <h2 style="color: #002366; margin-bottom: 1.5rem;">Demande de devis gratuit</h2>
          <form id="whatsappForm" style="display: flex; flex-direction: column; gap: 1rem;">
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <label for="nom" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nom complet *</label>
                <input type="text" id="nom" name="nom" required style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
              </div>
              <div>
                <label for="societe" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">SociÃ©tÃ©</label>
                <input type="text" id="societe" name="societe" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
              </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <label for="emailField" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                <input type="email" id="emailField" name="emailField" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
              </div>
              <div>
                <label for="telephone" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">TÃ©lÃ©phone *</label>
                <input type="tel" id="telephone" name="telephone" required style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
              </div>
            </div>
            
            <div>
              <label for="secteur" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Secteur concernÃ©</label>
              <select id="secteur" name="secteur" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; background: white;">
                <option value="">-- SÃ©lectionner --</option>
                <option value="HÃ´tellerie & Restauration">HÃ´tellerie & Restauration</option>
                <option value="BTP & Travaux Publics">BTP & Travaux Publics</option>
                <option value="Informatique & IT">Informatique & Technologies</option>
                <option value="Autre secteur">Autre secteur</option>
              </select>
            </div>

            <div>
              <label for="profil" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Profil(s) recherchÃ©(s)</label>
              <input type="text" id="profil" name="profil" placeholder="Ex: 2 serveurs, 1 chef de cuisine..." style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
            </div>
            
            <div>
              <label for="messageText" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">PrÃ©cisions sur votre besoin</label>
              <textarea id="messageText" name="messageText" rows="4" placeholder="DÃ©crivez votre besoin en recrutement..." style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; resize: vertical;"></textarea>
            </div>
            
            <!-- Case RGPD -->
            <div style="display: flex; align-items: flex-start; gap: 0.5rem; margin-top: 0.5rem;">
              <input type="checkbox" id="rgpdConsent" name="rgpdConsent" required style="margin-top: 4px; width: 18px; height: 18px; cursor: pointer;">
              <label for="rgpdConsent" style="font-size: 0.8rem; color: #555; line-height: 1.4; cursor: pointer;">
                J'accepte que mes donnÃ©es soient traitÃ©es par ABSIG Consulting pour rÃ©pondre Ã  ma demande, conformÃ©ment Ã  la <a href="/mentions-legales" style="color: #002366; text-decoration: underline;">politique de confidentialitÃ©</a>. *
              </label>
            </div>
            
            <button type="submit" class="cta-button" style="width: 100%; margin-top: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
              Envoyer ma demande
            </button>

            <p style="font-size: 0.8rem; color: #666; text-align: center; margin-top: 0.5rem;">
              Nous vous rÃ©pondons sous 24h ouvrÃ©es
            </p>
          </form>
        </div>

      </div>
    </div>
  </section>

</BaseLayout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('whatsappForm');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const nom = (document.getElementById('nom') as HTMLInputElement).value;
        const societe = (document.getElementById('societe') as HTMLInputElement).value;
        const emailField = (document.getElementById('emailField') as HTMLInputElement).value;
        const telephone = (document.getElementById('telephone') as HTMLInputElement).value;
        const secteur = (document.getElementById('secteur') as HTMLSelectElement).value;
        const profil = (document.getElementById('profil') as HTMLInputElement).value;
        const messageText = (document.getElementById('messageText') as HTMLTextAreaElement).value;
        
        const whatsappNumber = "33682267342";
        
        let text = "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
        text += "DEMANDE DE DEVIS\n";
        text += "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n";
        text += "â–  Contact\n";
        text += "  Nom : " + nom + "\n";
        if (societe) text += "  SociÃ©tÃ© : " + societe + "\n";
        text += "  TÃ©l : " + telephone + "\n";
        if (emailField) text += "  Email : " + emailField + "\n";
        text += "\nâ–  Besoin\n";
        if (secteur) text += "  Secteur : " + secteur + "\n";
        if (profil) text += "  Profil(s) : " + profil + "\n";
        if (messageText) text += "  DÃ©tails : " + messageText + "\n";
        text += "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”";
        
        const url = "https://wa.me/" + whatsappNumber + "?text=" + encodeURIComponent(text);
        
        window.open(url, '_blank');
      });
    }
  });
</script>
